From 97174467ee6e746b74c45df99611ae049cf70c25 Mon Sep 17 00:00:00 2001
From: Rohan Puri <rohan_puri@xyratex.com>
Date: Fri, 30 Aug 2013 12:22:31 +0530
Subject: [PATCH 075/121] 1.Add a 'todo' to start addb service in kernel. 2.
 Removed some unnecessary code.

---
 addb/addb_monitor.c | 16 ++++++----------
 1 file changed, 6 insertions(+), 10 deletions(-)

diff --git a/addb/addb_monitor.c b/addb/addb_monitor.c
index 01e1f6f..300755b 100644
--- a/addb/addb_monitor.c
+++ b/addb/addb_monitor.c
@@ -82,9 +82,8 @@
    This summary data is sent periodically to the stats service through a fop &
    also as addb records to the addb service if present on client or to the addb
    stob if present on server. This is done through enhancing the
-   functionality of addb pfom @ref ADDB-DLD-SVC-pstats on the server and making
-   use of a simple fom on the client. This simple fom has the same states &
-   state transitions as of the addb pfom.
+   functionality of addb pfom @ref ADDB-DLD-SVC-pstats on both the server as
+   well as the client.
 
    @verbatim
 		Global ADDB monitors list
@@ -153,6 +152,10 @@
 
 #include "addb/addb_monitor.h"
 
+/**
+ * @todo: Start addb service in m0tl1fs(kernel) so that addb pfom
+ * can be made use of to post stats summary records periodically.
+ */
 M0_TL_DESCR_DEFINE(addb_mon, "addb monitors list", M0_INTERNAL,
 		   struct m0_addb_monitor, am_linkage, am_magic,
 		   M0_ADDB_MONITOR_LIST_LINK_MAGIC,
@@ -160,13 +163,6 @@ M0_TL_DESCR_DEFINE(addb_mon, "addb monitors list", M0_INTERNAL,
 
 M0_TL_DEFINE(addb_mon, M0_INTERNAL, struct m0_addb_monitor);
 
-struct addb_monitor_entry {
-	int        (*ame_init) (void);
-	void       (*ame_fini) (void);
-	const char  *ame_name;
-	bool         status;
-};
-
 M0_INTERNAL int m0_addb_monitors_init(struct m0_reqh *reqh,
 				      const char     *endpoint)
 {
-- 
1.8.3.2

