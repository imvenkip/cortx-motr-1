From 1dafec21f0a2692ca1b667a364d1ea42aaf064bd Mon Sep 17 00:00:00 2001
From: Andrew Perepechko <andrew_perepechko@xyratex.com>
Date: Thu, 14 Jul 2011 03:09:40 +0400
Subject: [PATCH 161/177] fix several missing initialisers

---
 mdservice/md_fops.c | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/mdservice/md_fops.c b/mdservice/md_fops.c
index afc3d46..017d199 100644
--- a/mdservice/md_fops.c
+++ b/mdservice/md_fops.c
@@ -178,18 +178,23 @@ static int c2_md_fol_open(const struct c2_fol_rec_type *type,
 		map(&ptr, &((struct c2_fop_rename *)data)->r_tpath);
 		break;
 	case C2_FOP_SETATTR:
+		ptr = (char *)((struct c2_fop_setattr *)data + 1);
 		map(&ptr, &((struct c2_fop_setattr *)data)->s_path);
 		break;
 	case C2_FOP_GETATTR:
+		ptr = (char *)((struct c2_fop_getattr *)data + 1);
 		map(&ptr, &((struct c2_fop_getattr *)data)->g_path);
 		break;
 	case C2_FOP_OPEN:
+		ptr = (char *)((struct c2_fop_open *)data + 1);
 		map(&ptr, &((struct c2_fop_open *)data)->o_path);
 		break;
 	case C2_FOP_CLOSE:
+		ptr = (char *)((struct c2_fop_close *)data + 1);
 		map(&ptr, &((struct c2_fop_close *)data)->c_path);
 		break;
 	case C2_FOP_READDIR:
+		ptr = (char *)((struct c2_fop_readdir *)data + 1);
 		map(&ptr, &((struct c2_fop_readdir *)data)->r_path);
 		break;
         default:
-- 
1.8.3.2

