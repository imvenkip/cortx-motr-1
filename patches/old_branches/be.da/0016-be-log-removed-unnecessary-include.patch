From 2559f420a6f8acfccf0e37195f6a8db23e94e965 Mon Sep 17 00:00:00 2001
From: Maxim Medved <Max_Medved@xyratex.com>
Date: Wed, 21 Aug 2013 06:57:10 +0300
Subject: [PATCH 16/34] be/log: removed unnecessary include

---
 be/log.c                | 1 +
 be/log.h                | 5 +++--
 be/tx_group_ondisk.c    | 1 +
 be/ut/tx_group_ondisk.c | 2 ++
 4 files changed, 7 insertions(+), 2 deletions(-)

diff --git a/be/log.c b/be/log.c
index b13699c..85d4eb9 100644
--- a/be/log.c
+++ b/be/log.c
@@ -26,6 +26,7 @@
 #include "lib/errno.h"		/* ENOSYS */
 
 #include "be/tx_group_ondisk.h"	/* m0_be_group_ondisk_serialize */
+#include "be/tx_group.h"	/* m0_be_tx_group */
 
 /**
  * @addtogroup be
diff --git a/be/log.h b/be/log.h
index f54fd14..021dc07 100644
--- a/be/log.h
+++ b/be/log.h
@@ -24,8 +24,7 @@
 #ifndef __MERO_BE_LOG_H__
 #define __MERO_BE_LOG_H__
 
-#include "be/log_store.h"
-#include "be/tx_group.h"
+#include "be/log_store.h"	/* m0_be_log_store */
 
 /**
  * @defgroup be
@@ -33,6 +32,8 @@
  * @{
  */
 
+struct m0_be_tx_group;
+
 struct m0_be_log;
 typedef void (*m0_be_log_got_space_cb_t)(struct m0_be_log *log);
 
diff --git a/be/tx_group_ondisk.c b/be/tx_group_ondisk.c
index c3c1e9e..c72b0c3 100644
--- a/be/tx_group_ondisk.c
+++ b/be/tx_group_ondisk.c
@@ -25,6 +25,7 @@
 #include "be/log.h"
 #include "be/tx_regmap.h"    /* m0_be_reg_area_used */
 #include "be/tx_internal.h"  /* m0_be_tx__reg_area */
+#include "be/tx_group.h"     /* M0_BE_TX_GROUP_TX_FORALL */
 #include "lib/memory.h"      /* m0_alloc */
 #include "lib/misc.h"        /* M0_SET0 */
 #include "lib/errno.h"       /* ENOMEM */
diff --git a/be/ut/tx_group_ondisk.c b/be/ut/tx_group_ondisk.c
index ffbe14c..8604c3e 100644
--- a/be/ut/tx_group_ondisk.c
+++ b/be/ut/tx_group_ondisk.c
@@ -23,6 +23,8 @@
 #include "ut/ut.h"
 #include "be/ut/helper.h"
 
+#include "be/tx_group.h"	/* grp_tlist_init */
+
 enum {
 	BE_UT_TX_GROUP_ONDISK_SEG_SIZE = 0x10000,
 	BE_UT_TX_GROUP_ONDISK_ITER     = 0x100,
-- 
1.8.3.2

