From d3df52c20a70ebad39ca22d64e5ebccdf89caa2c Mon Sep 17 00:00:00 2001
From: "Valery V. Vorotyntsev" <valery_vorotyntsev@xyratex.com>
Date: Sat, 12 May 2012 01:02:16 +0300
Subject: [PATCH 171/370] conf/obj.h: add state diagram for c2_conf_status

---
 conf/obj.h | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

diff --git a/conf/obj.h b/conf/obj.h
index 1ed04fc..7eec168 100644
--- a/conf/obj.h
+++ b/conf/obj.h
@@ -91,6 +91,21 @@
  *
  * These values make up @ref c2_conf_status enumeration.
  *
+ * Status field of a configuration object (c2_conf_obj::co_status) is
+ * accessed and modified by the owner of this object --- confc or
+ * confd.  Initial status is C2_CS_MISSING; the diagram below shows
+ * how it can be changed:
+ *
+ * @dot
+ * digraph obj_status {
+ *     C2_CS_MISSING -> C2_CS_LOADING [label="loading started"];
+ *     C2_CS_LOADING -> C2_CS_MISSING [label="loading failed"];
+ *     C2_CS_LOADING -> C2_CS_READY [label="loading succeeded"];
+ *     C2_CS_MISSING -> C2_CS_READY [label=
+ *  "configuration filled by\nsome loading operation"];
+ * }
+ * @enddot
+ *
  * <hr> <!------------------------------------------------------------>
  * @section conf-fspec-obj-pinned Pinned Objects
  *
-- 
1.8.3.2

