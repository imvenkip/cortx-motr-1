From ef6174af6d9612f8f4b4a11c7abb6ac5c644b0ea Mon Sep 17 00:00:00 2001
From: "Valery V. Vorotyntsev" <valery_vorotyntsev@xyratex.com>
Date: Tue, 28 Aug 2012 18:45:10 +0300
Subject: [PATCH 303/370] conf: use c2_tl_forall() for @pre of
 c2_conf_reg_fini()

RB: r/981/diff/3/?file=27989#file27989line90
---
 conf/reg.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/conf/reg.h b/conf/reg.h
index a7ec4ba..e062477 100644
--- a/conf/reg.h
+++ b/conf/reg.h
@@ -87,8 +87,8 @@ void c2_conf_reg_init(struct c2_conf_reg *reg);
  * c2_conf_reg_fini() calls c2_conf_obj_ops::coo_fini() on every
  * registered configuration object.
  *
- * @pre  None of the registered objects is being used by the application
- *       (->co_nrefs > 0) or is C2_CS_LOADING.
+ * @pre  c2_tl_forall(c2_conf_reg, obj, &reg->r_objs,
+ *                    obj->co_nrefs == 0 && obj->co_status != C2_CS_LOADING)
  */
 void c2_conf_reg_fini(struct c2_conf_reg *reg);
 
-- 
1.8.3.2

