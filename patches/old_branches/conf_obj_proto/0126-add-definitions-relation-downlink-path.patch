From fcbaf94962748fb5fc32893d2ae52f84b262b7da Mon Sep 17 00:00:00 2001
From: "Valery V. Vorotyntsev" <valery_vorotyntsev@xyratex.com>
Date: Tue, 10 Apr 2012 12:06:55 +0300
Subject: [PATCH 126/370] add definitions: relation, downlink, path

Reviewed-on: https://reviewboard.clusterstor.com/r/714/
Reported-by: Carl Braganza <carl_braganza@xyratex.com>
---
 conf/confc.c | 23 ++++++++++++++++++++---
 1 file changed, 20 insertions(+), 3 deletions(-)

diff --git a/conf/confc.c b/conf/confc.c
index a0b2de6..595c18f 100644
--- a/conf/confc.c
+++ b/conf/confc.c
@@ -94,16 +94,33 @@
  *   C2_CS_READY. Stubs contain no meaningful configuration data apart
  *   from object's type and key.
  *
+ * - @b Relation: a pointer from one configuration object to another
+ *   configuration object or to a collection of those.  In former case
+ *   it is @b one-to-one relation, in the latter case it is @b
+ *   one-to-many relation.
+ *
+ * - @b Downlink: a relation whose destination is located further from
+ *   "profile" object than the origin.
+ *
  * New terms:
  *
  * - @b Directory: a list of configuration objects. This term is
  *   usually used in context of path.  Alternative name: @b collection
  *   of configuration objects.
  *
+ * - @b Path: a pair `{x, R}', where `x' is a configuration object and
+ *   `R' is such a sequence of downlinks and object keys that:
+ *     - the first element (if any) is a downlink;
+ *     - a one-to-many downlink is either followed by a key or is the
+ *       last element;
+ *     - a key is preceded by a one-to-many downlink.
+ *
+ *   `x' is path @b origin, elements of `R' are path @b components.
+ *
  * - <b>Path target</b>: the object or directory that a path leads to.
- *   Path target is @b reachable if all of the @b intermediate objects
- *   of the path (if any) are ready (C2_CS_READY) and target is either
- *   an object that is ready or a directory of ready objects.
+ *   Path target is @b reachable if all of the intermediate objects of
+ *   the path (if any) are ready (C2_CS_READY) and target is either an
+ *   object that is ready or a directory of ready objects.
  *
  * - A configuration object is said to be @b pinned if its reference
  *   counter is nonzero, otherwise it is @b unpinned.  Confc never
-- 
1.8.3.2

