From 966540dab9de53175c26fedc321bd707afd8b3e5 Mon Sep 17 00:00:00 2001
From: "Valery V. Vorotyntsev" <valery_vorotyntsev@xyratex.com>
Date: Wed, 18 Apr 2012 14:07:17 +0300
Subject: [PATCH 135/370] conf/path.h: fill `Data Structures' section

Improve documentation of `c2_conf_pathcomp'; describe `c2_conf_relation'.
---
 conf/path.h | 16 +++++++++++-----
 1 file changed, 11 insertions(+), 5 deletions(-)

diff --git a/conf/path.h b/conf/path.h
index f358d4d..129e768 100644
--- a/conf/path.h
+++ b/conf/path.h
@@ -135,10 +135,16 @@ Legend:
  * <hr> <!------------------------------------------------------------>
  * @section conf-fspec-path-data Data Structures
  *
- * Path component is represented by c2_conf_pathcomp structure,
- * defined in "conf/onwire.ff".  This structure is a "tagged union",
- * which can be either a relation (c2_conf_objtype), or a key
- * (c2_conf_buf), or a end-of-path marker.
+ * - c2_conf_pathcomp --- path component. This structure wraps tagged
+ *   union that is able to represent a key, a relation, or an
+ *   end-of-path marker.  Note, that c2_conf_pathcomp is defined in
+ *   "conf/onwire.ff".
+ *
+ * - c2_conf_relation --- describes relation of a configuration object.
+ *   Contains type (c2_conf_objtype) of target object(s), offset of
+ *   the relation field in object's structure, and pointer to tlist
+ *   descriptor that describes collection of target objects
+ *   (one-to-many relations only).
  *
  * <hr> <!------------------------------------------------------------>
  * @section conf-fspec-path-sub Subroutines
@@ -212,7 +218,7 @@ struct c2_conf_relation {
 	 * Target can be either single configuration object or a list
 	 * of objects.
 	 */
-	uint32_t                  r_type;
+	uint32_t                  r_type; /* XXX enum c2_conf_objtype? */
 	/** Offset of the relation field in an ambient structure. */
 	int                       r_offset;
 	/**
-- 
1.8.3.2

