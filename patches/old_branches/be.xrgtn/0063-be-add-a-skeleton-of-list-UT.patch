From 6e46cc1d85f6c921b25269fa22c2534b0114775f Mon Sep 17 00:00:00 2001
From: "Valery V. Vorotyntsev" <valery_vorotyntsev@xyratex.com>
Date: Thu, 30 May 2013 16:30:41 +0300
Subject: [PATCH 063/228] be: add a skeleton of list UT

---
 be/Makefile.sub    |  4 ++--
 be/ut/Makefile.sub |  2 +-
 be/ut/list.c       | 32 ++++++++++++++++++++++++++++++++
 utils/ut_main.c    |  2 ++
 4 files changed, 37 insertions(+), 3 deletions(-)
 create mode 100644 be/ut/list.c

diff --git a/be/Makefile.sub b/be/Makefile.sub
index 89dd4e6..7ec9bd6 100644
--- a/be/Makefile.sub
+++ b/be/Makefile.sub
@@ -1,3 +1,3 @@
-nobase_mero_include_HEADERS += be/alloc.h be/seg.h
+nobase_mero_include_HEADERS += be/alloc.h be/list.h be/seg.h
 
-mero_libmero_la_SOURCES += be/alloc.c be/seg.c
+mero_libmero_la_SOURCES += be/alloc.c be/list.c be/seg.c
diff --git a/be/ut/Makefile.sub b/be/ut/Makefile.sub
index 60ca7f5..accbf57 100644
--- a/be/ut/Makefile.sub
+++ b/be/ut/Makefile.sub
@@ -1 +1 @@
-ut_libmero_ut_la_SOURCES += be/ut/seg.c
+ut_libmero_ut_la_SOURCES += be/ut/list.c be/ut/seg.c
diff --git a/be/ut/list.c b/be/ut/list.c
new file mode 100644
index 0000000..9e2ee6e
--- /dev/null
+++ b/be/ut/list.c
@@ -0,0 +1,32 @@
+/*
+ * COPYRIGHT 2013 XYRATEX TECHNOLOGY LIMITED
+ *
+ * THIS DRAWING/DOCUMENT, ITS SPECIFICATIONS, AND THE DATA CONTAINED
+ * HEREIN, ARE THE EXCLUSIVE PROPERTY OF XYRATEX TECHNOLOGY
+ * LIMITED, ISSUED IN STRICT CONFIDENCE AND SHALL NOT, WITHOUT
+ * THE PRIOR WRITTEN PERMISSION OF XYRATEX TECHNOLOGY LIMITED,
+ * BE REPRODUCED, COPIED, OR DISCLOSED TO A THIRD PARTY, OR
+ * USED FOR ANY PURPOSE WHATSOEVER, OR STORED IN A RETRIEVAL SYSTEM
+ * EXCEPT AS ALLOWED BY THE TERMS OF XYRATEX LICENSES AND AGREEMENTS.
+ *
+ * YOU SHOULD HAVE RECEIVED A COPY OF XYRATEX'S LICENSE ALONG WITH
+ * THIS RELEASE. IF NOT PLEASE CONTACT A XYRATEX REPRESENTATIVE
+ * http://www.xyratex.com/contact
+ *
+ * Original author: Valery V. Vorotyntsev <valery_vorotyntsev@xyratex.com>
+ * Original creation date: 30-May-2013
+ */
+
+#include "ut/ut.h"
+
+static test_XXX(void)
+{
+}
+
+const struct m0_test_suite be_list_ut = {
+	.ts_name = "be-list-ut",
+	.ts_tests = {
+		{ "XXX",   test_XXX },
+		{ NULL, NULL }
+	}
+};
diff --git a/utils/ut_main.c b/utils/ut_main.c
index 7c01310..836c8ce 100644
--- a/utils/ut_main.c
+++ b/utils/ut_main.c
@@ -38,6 +38,7 @@ extern const struct m0_test_suite ad_ut;
 extern const struct m0_test_suite addb_ut;
 extern const struct m0_test_suite adieu_ut;
 extern const struct m0_test_suite balloc_ut;
+extern const struct m0_test_suite be_list_ut;
 extern const struct m0_test_suite be_seg_ut;
 extern const struct m0_test_suite buffer_pool_ut;
 extern const struct m0_test_suite bulkio_client_ut;
@@ -104,6 +105,7 @@ void add_uts(void)
 	m0_ut_add(&ad_ut);
 	m0_ut_add(&adieu_ut);
 	m0_ut_add(&balloc_ut);
+	m0_ut_add(&be_list_ut);
 	m0_ut_add(&be_seg_ut);
 	m0_ut_add(&buffer_pool_ut);
 	m0_ut_add(&bulkio_client_ut);
-- 
1.8.3.2

