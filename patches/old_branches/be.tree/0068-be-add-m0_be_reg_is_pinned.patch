From 12351ae6504422362070deb94b7e2d58474718d5 Mon Sep 17 00:00:00 2001
From: "Valery V. Vorotyntsev" <valery_vorotyntsev@xyratex.com>
Date: Thu, 30 May 2013 18:21:35 +0300
Subject: [PATCH 068/290] be: add m0_be_reg_is_pinned()

+ M0_BE_REG(): Fix the order of arguments.
---
 be/seg.h | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

diff --git a/be/seg.h b/be/seg.h
index aeaa073..a422bc0 100644
--- a/be/seg.h
+++ b/be/seg.h
@@ -73,7 +73,7 @@ struct m0_be_reg {
 	void             *br_addr;
 };
 
-#define M0_BE_REG(seg, addr, size) \
+#define M0_BE_REG(seg, size, addr) \
 	((struct m0_be_reg) {      \
 		.br_seg  = (seg),  \
 		.br_size = (size), \
@@ -85,10 +85,21 @@ struct m0_be_reg {
  */
 M0_INTERNAL void m0_be_reg_get(struct m0_be_reg *reg, struct m0_be_op *op);
 
+/**
+ * XXX DOCUMENTME
+ *
+ * @pre m0_be_reg_is_pinned(reg)
+ */
 M0_INTERNAL void m0_be_reg_get_fast(const struct m0_be_reg *reg);
 
+/**
+ * @post m0_be_reg_is_pinned(reg)
+ */
 M0_INTERNAL void m0_be_reg_put(const struct m0_be_reg *reg);
 
+/* XXX FUTURE */
+bool m0_be_reg_is_pinned(const struct m0_be_reg *reg);
+
 M0_INTERNAL bool m0_be__reg_invariant(const struct m0_be_reg *reg);
 
 M0_INTERNAL int m0_be__reg_read(struct m0_be_seg *seg,
-- 
1.8.3.2

