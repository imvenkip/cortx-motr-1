From ff95e449e5977afeeee72c6558503bb4ad24477a Mon Sep 17 00:00:00 2001
From: "Valery V. Vorotyntsev" <valery_vorotyntsev@xyratex.com>
Date: Mon, 27 Feb 2012 16:38:43 +0200
Subject: [PATCH 019/311] minor improvements

---
 conf/cache.h | 2 +-
 conf/confc.h | 5 +----
 conf/obj.h   | 6 +++---
 3 files changed, 5 insertions(+), 8 deletions(-)

diff --git a/conf/cache.h b/conf/cache.h
index 11e560d..99e256d 100644
--- a/conf/cache.h
+++ b/conf/cache.h
@@ -21,7 +21,7 @@
 #define __COLIBRI_CONF_CACHE_H__
 
 #ifndef __C2_CONF_IMPL
-#  error "conf/cache.h is not supposed to be #include-d."
+#  error "conf/cache.h is not supposed to be #included"
 #endif
 
 #include "lib/mutex.h" /* c2_mutex */
diff --git a/conf/confc.h b/conf/confc.h
index 6600db9..912207d 100644
--- a/conf/confc.h
+++ b/conf/confc.h
@@ -182,10 +182,7 @@ struct c2_confc_ctx {
 	 */
 	void                  *fc_result;
 
-	/* -------------------------------------------------------------
-	 * The remaining fields are used by confc implementation and
-	 * are not supposed to be accessed by configuration consumers.
-	 */
+/* private: internal use only */
 
 	/** A confc state machine. */
 	struct c2_sm           fc_mach;
diff --git a/conf/obj.h b/conf/obj.h
index 0ffc89a..66ff9bd 100644
--- a/conf/obj.h
+++ b/conf/obj.h
@@ -59,9 +59,9 @@ enum c2_conf_status {
 /**
  * C2_CONF_BUF_INIT: initializer for struct c2_conf_buf.
  *
- * The structure itself is defined in confop.ff.  Yes, this is ugly, but
- * - the structure has to be xcoded, so it has to be defined in .ff file;
- * - a macro cannot be defined in .ff file --- xcode/ff2c will reject it.
+ * c2_conf_buf is defined in confop.ff (it has to be xcoded), but
+ * C2_CONF_BUF_INIT() cannot be defined there (xcode/ff2c would reject
+ * such a definition).
  */
 #define C2_CONF_BUF_INIT(size, data) { .cb_size = (size), .cb_data = (data) }
 
-- 
1.8.3.2

