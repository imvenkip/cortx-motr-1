From d5fbfe7e93182795b86b05c79694d199560455ca Mon Sep 17 00:00:00 2001
From: "Valery V. Vorotyntsev" <valery_vorotyntsev@xyratex.com>
Date: Tue, 3 Apr 2012 01:09:01 +0300
Subject: [PATCH 117/311] Scalability section added

---
 conf/confc.c | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

diff --git a/conf/confc.c b/conf/confc.c
index 63f26e4..7259530 100644
--- a/conf/confc.c
+++ b/conf/confc.c
@@ -45,6 +45,7 @@
  *   - @ref confc-dld-ut-confc
  * - @ref confc-dld-st
  * - @ref confc-dld-O
+ * - @ref confc-dld-scalability
  * - @ref confc-dld-ref
  *
  * <hr> <!------------------------------------------------------------->
@@ -561,6 +562,19 @@
  * XXX
  *
  * <hr> <!------------------------------------------------------------->
+ * @section confc-dld-scalability Scalability
+ *
+ * Current design imposes no restrictions on the size of configuration
+ * cache.  If a configuration database is huge and an application is
+ * keen to know every aspect of cluster configuration, confc cache
+ * will eventually consume all memory available.  confc will be unable
+ * to allocate new objects, its state machines will end in S_FAILURE
+ * state, and c2_confc_error() will return -ENOMEM.  The application
+ * can get rid of configuration cache by issuing c2_confc_fini().
+ *
+ * @todo Implement cache eviction.
+ *
+ * <hr> <!------------------------------------------------------------->
  * @section confc-dld-ref References
  *
  * - HLD of configuration caching
-- 
1.8.3.2

