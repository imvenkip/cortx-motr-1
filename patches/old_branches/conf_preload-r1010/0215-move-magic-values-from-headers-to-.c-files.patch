From 7573063d62e98ce69e1dfcff7f4db6568ac7b362 Mon Sep 17 00:00:00 2001
From: "Valery V. Vorotyntsev" <valery_vorotyntsev@xyratex.com>
Date: Wed, 4 Jul 2012 14:47:27 +0300
Subject: [PATCH 215/311] move magic values from headers to .c files

---
 conf/confc.c |  5 +++++
 conf/confc.h |  7 +------
 conf/obj.c   | 11 +++++++++++
 conf/obj.h   | 11 -----------
 4 files changed, 17 insertions(+), 17 deletions(-)

diff --git a/conf/confc.c b/conf/confc.c
index e29d18e..9843f93 100644
--- a/conf/confc.c
+++ b/conf/confc.c
@@ -256,6 +256,11 @@
  * @{
  */
 
+enum {
+	CONFC_MAGIX     = XXX,
+	CONFC_CTX_MAGIX = XXX
+};
+
 /* ------------------------------------------------------------------
  * Locks
  * ------------------------------------------------------------------ */
diff --git a/conf/confc.h b/conf/confc.h
index c4ab948..b7fe5b0 100644
--- a/conf/confc.h
+++ b/conf/confc.h
@@ -325,11 +325,6 @@ struct c2_mutex;
  * @{
  */
 
-enum {
-	C2_CONFC_MAGIX     = XXX,
-	C2_CONFC_CTX_MAGIX = XXX
-};
-
 /* ------------------------------------------------------------------
  * confc instance
  * ------------------------------------------------------------------ */
@@ -450,7 +445,7 @@ struct c2_confc_ctx {
 	 * `object unpinned' events.
 	 */
 	struct c2_clink          fc_clink;
-	/** Magic value. See C2_CONFC_CTX_MAGIX. */
+	/** Magic value. */
 	uint64_t                 fc_magix;
 };
 extern struct c2_bob_type c2_confc_ctx_bob;
diff --git a/conf/obj.c b/conf/obj.c
index 9d8c14b..1a4952a 100644
--- a/conf/obj.c
+++ b/conf/obj.c
@@ -372,6 +372,17 @@
  * @{
  */
 
+enum {
+	CONF_DIR_MAGIX        = XXX,
+	CONF_PROFILE_MAGIX    = XXX,
+	CONF_FILESYSTEM_MAGIX = XXX,
+	CONF_SERVICE_MAGIX    = XXX,
+	CONF_NODE_MAGIX       = XXX,
+	CONF_NIC_MAGIX        = XXX,
+	CONF_SDEV_MAGIX       = XXX,
+	CONF_PARTITION_MAGIX  = XXX
+};
+
 /* XXX TODO: .bt_check = conf_dir_invariant, where
  * conf_dir_invariant() calls
  *     C2_ASSERT(dir->cd_obj.co_parent != NULL);
diff --git a/conf/obj.h b/conf/obj.h
index 15d496a..f4c907e 100644
--- a/conf/obj.h
+++ b/conf/obj.h
@@ -157,17 +157,6 @@ enum c2_conf_objtype {
 	C2_CO_NR
 };
 
-enum {
-	C2_CONF_DIR_MAGIX        = XXX,
-	C2_CONF_PROFILE_MAGIX    = XXX,
-	C2_CONF_FILESYSTEM_MAGIX = XXX,
-	C2_CONF_SERVICE_MAGIX    = XXX,
-	C2_CONF_NODE_MAGIX       = XXX,
-	C2_CONF_NIC_MAGIX        = XXX,
-	C2_CONF_SDEV_MAGIX       = XXX,
-	C2_CONF_PARTITION_MAGIX  = XXX
-};
-
 #define _DECLARE(type) \
 struct type;           \
 extern struct c2_bob_type type ## _bob
-- 
1.8.3.2

