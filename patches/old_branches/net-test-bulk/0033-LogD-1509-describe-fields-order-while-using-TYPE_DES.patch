From 64c9893e7ba46a5fb4a2ca91645e2a1be8cdc58f Mon Sep 17 00:00:00 2001
From: Maxim Medved <Max_Medved@xyratex.com>
Date: Thu, 29 Nov 2012 09:23:52 +0200
Subject: [PATCH 33/58] LogD 1509: describe fields order while using TYPE_DESCR

---
 net/test/serialize.h | 1 +
 net/test/stats.c     | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/net/test/serialize.h b/net/test/serialize.h
index e644734..d872c40 100644
--- a/net/test/serialize.h
+++ b/net/test/serialize.h
@@ -57,6 +57,7 @@ struct c2_net_test_descr {
 
 #define FIELD_SIZE(type, field) (sizeof ((type *) 0)->field)
 
+/** Recommended to use in field declaration order */
 #define FIELD_DESCR(type, field) {					\
 	.ntd_offset	= offsetof(type, field),			\
 	.ntd_length	= FIELD_SIZE(type, field),			\
diff --git a/net/test/stats.c b/net/test/stats.c
index d13ffd0..0037067 100644
--- a/net/test/stats.c
+++ b/net/test/stats.c
@@ -205,9 +205,9 @@ void c2_net_test_timestamp_init(struct c2_net_test_timestamp *t, uint64_t seq)
 }
 
 TYPE_DESCR(c2_net_test_timestamp) = {
+	FIELD_DESCR(struct c2_net_test_timestamp, ntt_magic),
 	FIELD_DESCR(struct c2_net_test_timestamp, ntt_time),
 	FIELD_DESCR(struct c2_net_test_timestamp, ntt_seq),
-	FIELD_DESCR(struct c2_net_test_timestamp, ntt_magic),
 };
 
 c2_bcount_t c2_net_test_timestamp_serialize(enum c2_net_test_serialize_op op,
-- 
1.8.3.2

