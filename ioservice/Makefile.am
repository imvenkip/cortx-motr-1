ioservicedir			= @SRCDIR@/ioservice
ioservice_HEADERS		= io_foms.h io_fops.h

io_fops_u.h io_fops_u.c: io_fops.ff \
                  $(top_builddir)/fop/rt/libc2rt.la \
                  $(top_builddir)/fop/fop2c
	$(top_builddir)/fop/fop2c -u $<

noinst_LTLIBRARIES		= libcolibri-ioservice.la
libcolibri_ioservice_la_SOURCES	= io_fops_u.h io_fops_u.c \
				  io_foms.c io_foms.h io_fops.c io_fops.h \
				  io_buf_pool.c io_buf_pool.h

INCLUDES			= -I. -I$(top_srcdir) -I$(top_srcdir)/include

EXTRA_DIST			= io_fops.ff

clean-local:
	cd $(ioservicedir); \
	rm -rf io_fops_u*.[ch];
